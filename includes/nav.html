<!-- 1. Navigation Bar - REBUILT for correct toggler behavior and alignment -->
<nav class="navbar navbar-expand-lg bg-body border-bottom shadow-sm fixed-top">
  <div class="container">
    <!-- Col 1: Logo -->
    <a href="#"
       class="navbar-brand fw-bold py-2">
      <!-- Note: This image path is local and may not load in preview -->
      <img src="images/JSlawGroupLOGO.png" 
           alt="JS Law Group Logo" 
           style="height: 65px; vertical-align: middle;">
    </a>

    <!-- Mobile Toggler (Standard Bootstrap implementation) -->
    <button id="navbarToggler"
            type="button" 
            data-bs-toggle="collapse" 
            data-bs-target="#navbarNav" 
            class="navbar-toggler" 
            aria-controls="navbarNav" 
            aria-expanded="false" 
            aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Col 2: Wrapper for Desktop Rows + Mobile Menu -->
    <div id="navbarNav"
         class="collapse navbar-collapse">
      <!-- Desktop Menu (Hidden on mobile) -->
      <!-- ms-auto aligns this whole block to the right of the logo -->
      <div class="d-none d-lg-flex flex-column w-100 ms-lg-3">
        <!-- Row 2.1: Title & Language -->
        <!-- Changed justify-content-between to justify-content-end -->
        <div class="d-flex justify-content-between align-items-center pt-2 border-bottom w-100">
          <!-- Simple redirect button (temporary) -->
          <a class="btn btn-sm btn-outline-secondary btn-redirect" href="index247.html">
            index247
          </a>
          <div class="d-flex align-items-center">
            <h5 data-i18n="nav.title"
                class="fw-bold mb-0 pb-2">
              nav.title fallback
            </h5>
            <!-- Theme Toggle Icon -->
            <button id="cthm001"
                    type="button"
                    class="btn btn-link nav-link ms-4 mb-0 pb-2"
                    aria-label="Toggle theme">
              <i class="fa-solid fa-sun theme-icon-light"></i>
              <i class="fa-solid fa-moon theme-icon-dark"></i>
            </button>
            <!-- Language Selector Dropdown -->
            <!-- Added ms-4 for spacing -->
            <ul class="navbar-nav ms-4 mb-0 pb-2">
            <li class="nav-item dropdown">
              <a id="languageDropdown" 
                 href="#" 
                 class="nav-link dropdown-toggle" 
                 role="button" 
                 data-bs-toggle="dropdown" 
                 aria-expanded="false">
                <i class="fa-solid fa-globe"></i> Language
              </a>
              <ul aria-labelledby="languageDropdown"
                  class="dropdown-menu">
                <li>
                  <a id="i18n001" value-i18n="en-US" href="#" 
                     class="dropdown-item">
                    English
                  </a>
                </li>
                <li>
                  <a id="i18n006" value-i18n="es-US" href="#" 
                     class="dropdown-item">
                    Español (Spanish)
                  </a>
                </li>
                <li>
                  <a id="i18n002" value-i18n="ko-KR" href="#" 
                     class="dropdown-item">
                    한국어 (Korean)
                  </a>
                </li>
                <li>
                  <a id="i18n005" value-i18n="ja-JP" href="#" 
                     class="dropdown-item">
                    日本語 (Japanese)
                  </a>
                </li>
              </ul>
            </li>
          </ul>
          </div>
        </div>

        <!-- Row 2.2: Nav Items (Aligned Right) -->
        <!-- justify-content-end aligns nav to the right -->
        <div class="d-flex justify-content-end w-100">
          <!-- flex-row to make them horizontal -->
          <ul class="navbar-nav flex-row pt-2">
            <li class="nav-item">
              <a data-i18n="nav.home" 
                 href="#"
                 class="nav-link active pe-3" 
                 aria-current="page">
                nav.home fallback
              </a>
            </li>
            <li class="nav-item">
              <a data-i18n="nav.about" href="#about" 
                 class="nav-link pe-3">
                nav.about fallback
              </a>
            </li>
            <li class="nav-item">
              <a data-i18n="nav.careers" href="#careers" 
                 class="nav-link pe-3">
                nav.careers fallback
              </a>
            </li>
            <li class="nav-item">
              <a data-i18n="nav.team" href="#team"
                 class="nav-link pe-3">
                nav.team fallback
              </a>
            </li>
            <li class="nav-item">
              <a data-i18n="nav.services" href="#services"
                 class="nav-link pe-3">
                nav.services fallback
              </a>
            </li>
            <!-- <li class="nav-item">
              <a data-i18n="nav.appointment" 
                 href="#" 
                 class="nav-link">
                nav.appointment fallback
              </a>
            </li> -->
            <li class="nav-item">
              <a id="fabButtonNav" data-i18n="nav.contact" href="#contact"
                 class="nav-link pe-3">
                nav.contact fallback
              </a>
            </li>
          </ul>
        </div>
      </div>

      <!-- Mobile Menu (Hidden on desktop) -->
      <ul class="navbar-nav d-lg-none flex-column py-2">
        <li class="nav-item">
          <a data-i18n="nav.home" 
             href="#" 
             class="nav-link active py-2 border-bottom" 
             aria-current="page">
            nav.home fallback
          </a>
        </li>
        <li class="nav-item">
          <a data-i18n="nav.about" 
             href="#about" 
             class="nav-link py-2 border-bottom">
            nav.about fallback
          </a>
        </li>
        <li class="nav-item">
          <a data-i18n="nav.careers" 
             href="#careers" 
             class="nav-link py-2 border-bottom">
            nav.careers fallback
          </a>
        </li>
        <li class="nav-item">
          <a data-i18n="nav.team" href="#team" 
             class="nav-link py-2 border-bottom">
            nav.team fallback
          </a>
        </li>
        <li class="nav-item">
          <a data-i18n="nav.services" 
             href="#services" 
             class="nav-link py-2 border-bottom">
            nav.services fallback
          </a>
        </li>
        <!-- <li class="nav-item">
          <a data-i18n="nav.appointment" 
             href="#" 
             class="nav-link py-2 border-bottom">
            nav.appointment fallback
          </a>
        </li> -->
        <li class="nav-item">
          <a id="fabButtonNavMobile" 
             data-i18n="nav.contact" 
             href="#contact" 
             class="nav-link py-2 border-bottom">
            nav.contact fallback
          </a>
        </li>
        <!-- Theme Toggle Icon for mobile -->
        <li class="nav-item py-2 border-bottom">
          <button id="cthm002"
                  type="button"
                  class="btn btn-link nav-link w-100 text-start"
                  aria-label="Toggle theme">
            <i class="fa-solid fa-sun theme-icon-light"></i>
            <i class="fa-solid fa-moon theme-icon-dark"></i>
            <span class="ms-2">Theme</span>
          </button>
        </li>
        <!-- Language Selector Dropdown for mobile -->
        <li class="nav-item dropdown py-2">
          <a id="languageDropdownMobile" 
             href="#" 
             class="nav-link dropdown-toggle" 
             role="button" 
             data-bs-toggle="dropdown" 
             aria-expanded="false">
            <i class="fa-solid fa-globe"></i> Language
          </a>
          <ul aria-labelledby="languageDropdownMobile"
              class="dropdown-menu">
            <li>
              <a id="i18n003" 
                 value-i18n="en-US" 
                 href="#" 
                 class="dropdown-item">
                English
              </a>
            </li>
            <li>
              <a id="i18n008" 
                 value-i18n="es-US" 
                 href="#" 
                 class="dropdown-item">
                Español (Spanish)
              </a>
            </li>
            <li>
              <a id="i18n004" 
                 value-i18n="ko-KR" 
                 href="#" 
                 class="dropdown-item">
                한국어 (Korean)
              </a>
            </li>
            <li>
              <a id="i18n007" 
                 value-i18n="ja-JP" 
                 href="#" 
                 class="dropdown-item">
                日本語 (Japanese)
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!-- END OF REBUILT NAV -->

<!-- Spacer for fixed navbar -->
<div style="height: 200px;"></div>
