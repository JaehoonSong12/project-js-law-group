<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1-800-HURT911 Georgia - {% block title %}Home{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-red: #c8102e;
            --dark-bg: #222;
            --light-bg: #f8f9fa;
            --text-color: #333;
        }
        body {
            font-family: 'Arial', sans-serif;
            color: var(--text-color);
        }
        .bg-red { background-color: var(--primary-red); color: white; }
        .bg-dark-custom { background-color: var(--dark-bg); color: white; }
        .text-red { color: var(--primary-red); }
        .btn-red { background-color: var(--primary-red); color: white; border: none; }
        .btn-red:hover { background-color: #a00c24; color: white; }
        .btn-outline-light-custom { border: 2px solid white; color: white; }
        .btn-outline-light-custom:hover { background-color: white; color: var(--dark-bg); }

        /* Navbar */
        .navbar-brand img { height: 50px; }
        .nav-link { color: white !important; font-weight: bold; }
        .top-contact { font-weight: bold; font-size: 1.2rem; }

        /* Hero Section */
        .hero-section {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://via.placeholder.com/1920x600/222222/FFFFFF?text=Hero+Image') no-repeat center center/cover;
            color: white;
            padding: 100px 0;
        }
        .hero-title { font-size: 3rem; font-weight: 900; text-transform: uppercase; }
        .hero-subtitle { font-size: 1.5rem; font-weight: bold; }
        .star-rating { color: gold; }

        /* Feature Boxes */
        .feature-box { background-color: var(--dark-bg); color: white; padding: 30px; text-align: center; }
        .feature-box i { font-size: 3rem; margin-bottom: 15px; }
        .feature-box h4 { font-weight: bold; }

        /* Know Who To Call */
        .know-who-section { padding: 50px 0; }
        .process-list li { margin-bottom: 10px; }
        .process-list i { color: var(--primary-red); margin-right: 10px; }

        /* Common Accidents & Chiropractic Care */
        .grid-section { padding: 50px 0; background-color: var(--light-bg); }
        .grid-item { background: white; padding: 20px; text-align: center; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); height: 100%; }
        .grid-item i { font-size: 2.5rem; color: var(--primary-red); margin-bottom: 15px; }
        .grid-item h5 { font-weight: bold; }

        /* Testimonials */
        .testimonials-section { background-color: var(--dark-bg); color: white; padding: 50px 0; }
        .testimonial-video { width: 100%; border-radius: 8px; }
        .testimonial-text { font-style: italic; }
        .testimonial-author { font-weight: bold; margin-top: 20px; }
        .carousel-control-prev-icon, .carousel-control-next-icon { filter: invert(1); }

         /* Social button circle styling for FAB */
        .rounded-circle-fab {
          width: 40px;
          height: 40px;
          padding: 0;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          position: relative;
          transition: all 0.2s ease;
        }
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark-custom">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('final') }}"><img src="https://via.placeholder.com/150x50/c8102e/FFFFFF?text=1-800-HURT-911" alt="1-800-HURT-911"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('final_about') }}">ABOUT US</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('final_personal_injury') }}">SERVICES</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('final_accident') }}">INJURY CAUSES</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('final_criminal') }}">CRIMINAL DEFENSE</a></li>
                    <li class="nav-item"><a class="nav-link" href="{{ url_for('final_contact') }}">CONTACT</a></li>
                    <li class="nav-item ms-3">
                        <div class="text-end">
                            <div class="top-contact">1-800-HURT911</div>
                            <a href="#" class="btn btn-red btn-sm" data-bs-toggle="modal" data-bs-target="#contactModal">CONTACT US</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="container mt-3 fixed-top" style="z-index: 2000; top: 80px;">
          {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show shadow" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-7">
                    <h3 class="text-red">THE PLUG YOU HOPE YOU NEVER NEED</h3>
                    <h1 class="hero-title">GEORGIA CHIROPRACTORS,<br>ACCIDENT DOCTORS &<br>ATTORNEY REFERRALS</h1>
                    <div class="mb-4">
                        <span class="star-rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></span>
                        <span class="ms-2 fw-bold">BACKED BY HUNDREDS OF 5 STAR REVIEWS</span>
                    </div>
                </div>
                <div class="col-lg-5 text-center text-lg-end">
                    <a href="tel:18004878911" class="btn btn-red btn-lg w-100 mb-3 fw-bold"><i class="fas fa-phone-alt me-2"></i> CALL 1-800-HURT911 NOW!</a>
                    <a href="#" class="btn btn-outline-light-custom btn-lg w-100 fw-bold"><i class="fas fa-gavel me-2"></i> I NEED AN ATTORNEY</a>
                    <img src="https://via.placeholder.com/150x150/c8102e/FFFFFF?text=Voted+Best" alt="Voted Best" class="mt-4">
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container-fluid p-0">
            <div class="row g-0">
                <div class="col-md-3 feature-box">
                    <i class="fas fa-hospital-alt"></i>
                    <h4>ACCIDENT DOCTORS</h4>
                </div>
                <div class="col-md-3 feature-box bg-red">
                    <i class="fas fa-dollar-sign"></i>
                    <h4>ZERO OUT OF POCKET COSTS</h4>
                </div>
                <div class="col-md-3 feature-box">
                    <i class="fas fa-balance-scale"></i>
                    <h4>ATTORNEY REFERRALS</h4>
                </div>
                <div class="col-md-3 feature-box bg-red">
                    <i class="fas fa-car-crash"></i>
                    <h4>HURT911 TRANSPORT</h4>
                </div>
            </div>
        </div>
    </section>

    <section class="know-who-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h2 class="fw-bold mb-4 text-red">KNOW WHO TO CALL.</h2>
                    <p>If you've been in an accident, HURT911 is your best resource. We can help you get医疗 treatment, connect you with an attorney, and get your life back on track.</p>
                    <p>Our goal is to ensure you get the care you need and the compensation you deserve.</p>
                    <h3 class="fw-bold mt-5 mb-3">OUR PROCESS</h3>
                    <ul class="list-unstyled process-list">
                        <li><i class="fas fa-check-circle"></i> After your accident, we'll set you up with an attorney and schedule your medical evaluation immediately.</li>
                        <li><i class="fas fa-check-circle"></i> You'll get treated at one of our convenient Atlanta locations with no out of pocket costs to you.</li>
                        <li><i class="fas fa-check-circle"></i> Continue your medical treatment per your doctor recommendations.</li>
                        <li><i class="fas fa-check-circle"></i> We'll work with your lawyer so you get the money you deserve.</li>
                    </ul>
                </div>
                <div class="col-lg-6">
                    <img src="https://via.placeholder.com/600x400/cccccc/333333?text=Man+Getting+Out+of+Car" alt="Man Getting Out of Car" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </section>

    <section class="grid-section">
        <div class="container">
            <h2 class="text-center fw-bold mb-5">COMMON ACCIDENTS WE HELP WITH</h2>
            <div class="row g-4">
                <div class="col-md-4"><div class="grid-item"><i class="fas fa-car"></i><h5>Car Accidents</h5></div></div>
                <div class="col-md-4"><div class="grid-item"><i class="fas fa-bicycle"></i><h5>Bicycle Accidents</h5></div></div>
                <div class="col-md-4"><div class="grid-item"><i class="fas fa-truck"></i><h5>Big Truck Accidents</h5></div></div>
                <div class="col-md-4"><div class="grid-item"><i class="fas fa-wine-bottle"></i><h5>Drunk Driving Accidents</h5></div></div>
                <div class="col-md-4"><div class="grid-item"><i class="fas fa-running"></i><h5>Hit & Run Accidents</h5></div></div>
                <div class="col-md-4"><div class="grid-item"><i class="fas fa-motorcycle"></i><h5>Motorcycle Accidents</h5></div></div>
                <div class="col-md-4"><div class="grid-item"><i class="fas fa-walking"></i><h5>Passenger/Pedestrian Accidents</h5></div></div>
                <div class="col-md-4"><div class="grid-item"><i class="fas fa-thumbs-down"></i><h5>Slip & Fall Accidents</h5></div></div>
                <div class="col-md-4"><div class="grid-item"><i class="fab fa-uber"></i><h5>Uber & Lyft Accidents</h5></div></div>
            </div>
        </div>
    </section>

    <section class="grid-section bg-red text-white">
        <div class="container">
            <h2 class="text-center fw-bold mb-5">HURT 911® CHIROPRACTIC CARE</h2>
            <div class="row g-4 text-dark">
                <div class="col-md-4"><div class="grid-item"><i class="fas fa-notes-medical"></i><h5>Whiplash</h5></div></div>
                <div class="col-md-4"><div class="grid-item"><i class="fas fa-procedures"></i><h5>Spinal Adjustments</h5></div></div>
                <div class="col-md-4"><div class="grid-item"><i class="far fa-frown"></i><h5>Back Pain</h5></div></div>
            </div>
        </div>
    </section>

    <section class="testimonials-section">
        <div class="container">
            <h2 class="text-center fw-bold mb-5">HEAR FROM <span class="text-red">OUR PATIENTS</span></h2>
            <div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="row align-items-center">
                            <div class="col-lg-6">
                                <img src="https://via.placeholder.com/600x400/cccccc/333333?text=Video+Thumbnail" alt="Testimonial Video" class="testimonial-video">
                            </div>
                            <div class="col-lg-6">
                                <p class="testimonial-text lead">"I was in a car accident and the first people I called were HURT911. They immediately set me up with a doctor and an attorney. The process was seamless and I got the settlement I deserved!"</p>
                                <div class="testimonial-author">
                                    <img src="https://via.placeholder.com/50x50/cccccc/333333?text=User" alt="User" class="rounded-circle me-2">
                                    <span>Antoine Lewis</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </section>
    {% endblock %}

    <!-- Floating Action Button (FAB) -->
    <div id="fabSpeedDial"
       aria-label="Contact options"
       class="btn-group dropup position-fixed bottom-0 end-0 p-4">
      <button type="button"
              id="fabSpeedDialButton"
              data-bs-toggle="dropdown"
              aria-expanded="false"
              aria-label="Open contact options"
              class="btn btn-red btn-lg rounded-circle-fab shadow d-flex align-items-center justify-content-center"
              style="width: 60px; height: 60px;">
        <i class="fa-solid fa-envelope fa-lg"></i>
      </button>
      <ul aria-labelledby="fabSpeedDialButton"
          class="dropdown-menu dropdown-menu-end shadow">
        <li><h6 class="dropdown-header">Contact Forms</h6></li>
        <li>
          <button type="button"
                  data-bs-toggle="modal"
                  data-bs-target="#contactModal"
                  onclick="updateModal('general')"
                  class="dropdown-item d-flex align-items-center gap-2">
            <i class="text-red fa-regular fa-envelope"></i>
            <span>General Inquiry</span>
          </button>
        </li>
        <li>
          <button type="button"
                  data-bs-toggle="modal"
                  data-bs-target="#contactModal"
                  onclick="updateModal('pi')"
                  class="dropdown-item d-flex align-items-center gap-2">
            <i class="text-red fa-solid fa-car-burst"></i>
            <span>Personal Injury</span>
          </button>
        </li>
        <li>
          <button type="button"
                  data-bs-toggle="modal"
                  data-bs-target="#contactModal"
                  onclick="updateModal('cd')"
                  class="dropdown-item d-flex align-items-center gap-2">
            <i class="text-red fa-solid fa-scale-balanced"></i>
            <span>Criminal Defense</span>
          </button>
        </li>
      </ul>
    </div>

    <!-- Full-screen Modal Contact Form -->
    <div id="contactModal"
       tabindex="-1"
       aria-labelledby="contactModalLabel"
       aria-hidden="true"
       data-bs-backdrop="true"
       class="modal fade">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content shadow-lg rounded-4">
          <div class="modal-header border-0">
            <h5 id="contactModalLabel" class="modal-title fw-bold">Contact Us</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body p-4">
            <p id="modalSubtitle" class="text-muted text-center mb-4">We are here to help. Send us a message.</p>

            <!-- Loading Spinner (Hidden by default) -->
            <div id="formLoading" class="text-center d-none my-5">
                 <div class="spinner-border text-danger" role="status">
                    <span class="visually-hidden">Loading...</span>
                 </div>
                 <p class="mt-2 text-muted">Loading form...</p>
            </div>

            <!-- Iframe Container for Forms -->
            <div id="formContainer">
                 <iframe id="formFrame" src="" style="width: 100%; border: none; min-height: 600px;"></iframe>
            </div>
            
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function updateModal(type) {
            const frame = document.getElementById('formFrame');
            const title = document.getElementById('contactModalLabel');
            const subtitle = document.getElementById('modalSubtitle');
            const loading = document.getElementById('formLoading');
            const container = document.getElementById('formContainer');

            // Show loading, hide frame
            loading.classList.remove('d-none');
            container.classList.add('d-none');

            let url = '';
            if (type === 'general') {
                url = '/form/general'; 
                title.textContent = 'General Inquiry';
                subtitle.textContent = 'Have a question? We are here to answer.';
            } else if (type === 'pi') {
                url = '/form/pi';
                title.textContent = 'Personal Injury Case Evaluation';
                subtitle.textContent = 'Tell us about your accident. Free consultation.';
            } else if (type === 'cd') {
                url = '/form/cd';
                title.textContent = 'Criminal Defense Intake';
                subtitle.textContent = 'Confidential intake for criminal cases.';
            }

            frame.src = url;

            frame.onload = function() {
                loading.classList.add('d-none');
                container.classList.remove('d-none');
            };
        }
        
        // Default to general if opened without type (e.g., nav button)
        const contactModal = document.getElementById('contactModal');
        contactModal.addEventListener('show.bs.modal', event => {
             const button = event.relatedTarget;
             // If button didn't set onclick, default to general (nav button)
             if (!button.hasAttribute('onclick')) {
                 updateModal('general');
             }
        });
    </script>
</body>
</html>
